<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chabrin Lease Management System â€” Client Showcase</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap');

  :root {
    --gold: #DAA520;
    --gold-light: #f0c040;
    --gold-pale: #fdf6dc;
    --gold-muted: rgba(218,165,32,0.15);
    --navy: #1a365d;
    --navy-deep: #0f2240;
    --cream: #faf8f4;
    --white: #ffffff;
    --text: #1e293b;
    --text-muted: #64748b;
    --border: rgba(218,165,32,0.25);
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
    background: var(--cream);
    color: var(--text);
    font-size: 10.5pt;
    line-height: 1.65;
  }

  /* â”€â”€ COVER PAGE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .cover {
    width: 100%;
    min-height: 100vh;
    background: linear-gradient(160deg, var(--navy-deep) 0%, var(--navy) 60%, #1e4a6b 100%);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 80px 60px;
    position: relative;
    page-break-after: always;
    overflow: hidden;
  }
  .cover::before {
    content: '';
    position: absolute;
    inset: 0;
    background:
      radial-gradient(ellipse at 20% 30%, rgba(218,165,32,0.18) 0%, transparent 55%),
      radial-gradient(ellipse at 80% 70%, rgba(218,165,32,0.10) 0%, transparent 50%);
  }
  .cover-content { position: relative; z-index: 1; max-width: 700px; }
  .cover-badge {
    display: inline-block;
    background: rgba(218,165,32,0.2);
    border: 1px solid rgba(218,165,32,0.5);
    color: var(--gold-light);
    font-size: 8pt;
    font-weight: 700;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    padding: 6px 20px;
    border-radius: 100px;
    margin-bottom: 32px;
  }
  .cover h1 {
    font-family: 'Cormorant Garamond', Georgia, serif;
    font-size: 42pt;
    font-weight: 700;
    color: #ffffff;
    line-height: 1.1;
    margin-bottom: 12px;
    letter-spacing: -0.02em;
  }
  .cover h1 span { color: var(--gold-light); }
  .cover .subtitle {
    font-size: 13pt;
    color: rgba(255,255,255,0.75);
    font-weight: 300;
    margin-bottom: 48px;
    letter-spacing: 0.02em;
  }
  .cover-divider {
    width: 80px;
    height: 2px;
    background: linear-gradient(90deg, transparent, var(--gold), transparent);
    margin: 0 auto 48px;
  }
  .cover-meta {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 24px;
    margin-top: 48px;
  }
  .cover-meta-item {
    background: rgba(255,255,255,0.06);
    border: 1px solid rgba(218,165,32,0.2);
    border-radius: 12px;
    padding: 20px 16px;
  }
  .cover-meta-item .label {
    font-size: 7pt;
    font-weight: 700;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    color: var(--gold);
    margin-bottom: 6px;
  }
  .cover-meta-item .value {
    font-size: 10pt;
    color: rgba(255,255,255,0.9);
    font-weight: 500;
  }
  .cover-footer {
    position: absolute;
    bottom: 32px;
    left: 0; right: 0;
    text-align: center;
    color: rgba(255,255,255,0.35);
    font-size: 8pt;
    letter-spacing: 0.1em;
  }

  /* â”€â”€ LAYOUT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .page {
    max-width: 900px;
    margin: 0 auto;
    padding: 60px 70px;
  }

  @media print {
    .cover { page-break-after: always; min-height: 100vh; }
    .page-break { page-break-before: always; }
    .page { padding: 40px 50px; }
    body { background: white; }
  }

  /* â”€â”€ SECTION HEADINGS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .section-label {
    font-size: 7pt;
    font-weight: 700;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    color: var(--gold);
    margin-bottom: 8px;
  }
  .section-title {
    font-family: 'Cormorant Garamond', Georgia, serif;
    font-size: 26pt;
    font-weight: 700;
    color: var(--navy);
    line-height: 1.15;
    margin-bottom: 8px;
    letter-spacing: -0.01em;
  }
  .section-desc {
    font-size: 10.5pt;
    color: var(--text-muted);
    max-width: 620px;
    margin-bottom: 36px;
    line-height: 1.7;
  }

  /* â”€â”€ CHAPTER HEADER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .chapter-header {
    border-left: 4px solid var(--gold);
    padding: 28px 28px 28px 28px;
    background: linear-gradient(135deg, var(--gold-pale) 0%, #fff 100%);
    border-radius: 0 12px 12px 0;
    margin-bottom: 40px;
  }
  .chapter-number {
    font-size: 8pt;
    font-weight: 700;
    letter-spacing: 0.18em;
    text-transform: uppercase;
    color: var(--gold);
    margin-bottom: 6px;
  }
  .chapter-title {
    font-family: 'Cormorant Garamond', Georgia, serif;
    font-size: 22pt;
    font-weight: 700;
    color: var(--navy);
    line-height: 1.2;
    margin-bottom: 8px;
  }
  .chapter-sub {
    font-size: 10pt;
    color: var(--text-muted);
    line-height: 1.6;
  }

  /* â”€â”€ CARDS GRID â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .cards-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin-bottom: 36px;
  }
  .cards-grid-3 {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 16px;
    margin-bottom: 36px;
  }
  .card {
    background: var(--white);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 24px;
    position: relative;
    overflow: hidden;
  }
  .card::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 3px;
    background: linear-gradient(90deg, var(--gold), var(--gold-light));
  }
  .card-icon {
    font-size: 22pt;
    margin-bottom: 12px;
    display: block;
  }
  .card-title {
    font-size: 11pt;
    font-weight: 700;
    color: var(--navy);
    margin-bottom: 8px;
  }
  .card-body {
    font-size: 9.5pt;
    color: var(--text-muted);
    line-height: 1.6;
  }

  /* â”€â”€ STAT BLOCKS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .stats-row {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 16px;
    margin-bottom: 40px;
  }
  .stat-block {
    background: var(--navy);
    color: white;
    border-radius: 12px;
    padding: 22px 18px;
    text-align: center;
  }
  .stat-block.gold { background: linear-gradient(135deg, var(--gold) 0%, #c49010 100%); }
  .stat-num {
    font-family: 'Cormorant Garamond', Georgia, serif;
    font-size: 28pt;
    font-weight: 700;
    line-height: 1;
    margin-bottom: 6px;
  }
  .stat-label {
    font-size: 8pt;
    font-weight: 600;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    opacity: 0.85;
  }

  /* â”€â”€ WORKFLOW CHAIN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .workflow-chain {
    display: flex;
    flex-wrap: wrap;
    gap: 0;
    margin-bottom: 36px;
    align-items: center;
  }
  .wf-step {
    background: var(--white);
    border: 1.5px solid var(--border);
    border-radius: 8px;
    padding: 10px 14px;
    font-size: 8.5pt;
    font-weight: 600;
    color: var(--navy);
    white-space: nowrap;
    position: relative;
  }
  .wf-step.active { background: var(--navy); color: white; border-color: var(--navy); }
  .wf-step.gold { background: var(--gold); color: white; border-color: var(--gold); }
  .wf-step.green { background: #059669; color: white; border-color: #059669; }
  .wf-arrow {
    font-size: 11pt;
    color: var(--gold);
    padding: 0 5px;
    font-weight: 700;
    flex-shrink: 0;
  }

  /* â”€â”€ FEATURE LIST â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .feature-list { list-style: none; margin-bottom: 32px; }
  .feature-list li {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    padding: 12px 0;
    border-bottom: 1px solid rgba(218,165,32,0.1);
    font-size: 10pt;
    color: var(--text);
  }
  .feature-list li:last-child { border-bottom: none; }
  .feature-list .fi {
    flex-shrink: 0;
    width: 24px;
    height: 24px;
    background: var(--gold-muted);
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12pt;
    margin-top: -1px;
  }
  .feature-list .fi-title { font-weight: 700; color: var(--navy); margin-bottom: 2px; }
  .feature-list .fi-desc { font-size: 9pt; color: var(--text-muted); }

  /* â”€â”€ TABLE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  table { width: 100%; border-collapse: collapse; margin-bottom: 32px; font-size: 9.5pt; }
  thead tr { background: var(--navy); color: white; }
  thead th { padding: 12px 14px; text-align: left; font-weight: 600; font-size: 8.5pt; letter-spacing: 0.05em; }
  tbody tr { border-bottom: 1px solid rgba(218,165,32,0.12); }
  tbody tr:nth-child(even) { background: rgba(218,165,32,0.03); }
  tbody td { padding: 10px 14px; vertical-align: top; }
  td strong { color: var(--navy); }

  /* â”€â”€ BADGES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .badge {
    display: inline-block;
    padding: 2px 8px;
    border-radius: 100px;
    font-size: 7.5pt;
    font-weight: 700;
    letter-spacing: 0.05em;
  }
  .badge-gold { background: var(--gold-muted); color: #92700a; border: 1px solid rgba(218,165,32,0.3); }
  .badge-navy { background: rgba(26,54,93,0.1); color: var(--navy); border: 1px solid rgba(26,54,93,0.2); }
  .badge-green { background: rgba(5,150,105,0.1); color: #065f46; border: 1px solid rgba(5,150,105,0.2); }
  .badge-red { background: rgba(220,38,38,0.08); color: #991b1b; border: 1px solid rgba(220,38,38,0.2); }

  /* â”€â”€ HIGHLIGHT BOX â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .highlight-box {
    background: linear-gradient(135deg, var(--gold-pale) 0%, #fff9e8 100%);
    border: 1px solid rgba(218,165,32,0.35);
    border-left: 4px solid var(--gold);
    border-radius: 0 12px 12px 0;
    padding: 20px 24px;
    margin-bottom: 28px;
    font-size: 10pt;
    color: var(--text);
  }
  .highlight-box strong { color: var(--navy); }

  .info-box {
    background: rgba(26,54,93,0.04);
    border: 1px solid rgba(26,54,93,0.15);
    border-left: 4px solid var(--navy);
    border-radius: 0 12px 12px 0;
    padding: 18px 22px;
    margin-bottom: 24px;
    font-size: 9.5pt;
  }

  /* â”€â”€ DEPENDENCY MAP â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .dep-map { margin-bottom: 36px; }
  .dep-row {
    display: flex;
    align-items: stretch;
    gap: 0;
    margin-bottom: 2px;
  }
  .dep-source {
    background: var(--navy);
    color: white;
    padding: 11px 18px;
    border-radius: 8px 0 0 8px;
    font-size: 9pt;
    font-weight: 700;
    min-width: 160px;
    display: flex;
    align-items: center;
  }
  .dep-arrow {
    background: linear-gradient(90deg, var(--navy) 0%, rgba(26,54,93,0.2) 100%);
    width: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--gold);
    font-size: 10pt;
    flex-shrink: 0;
  }
  .dep-targets {
    background: var(--white);
    border: 1px solid var(--border);
    border-radius: 0 8px 8px 0;
    padding: 10px 16px;
    flex: 1;
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    align-items: center;
  }

  /* â”€â”€ SHOWCASE STEPS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .showcase-steps { counter-reset: step; margin-bottom: 40px; }
  .showcase-step {
    display: flex;
    gap: 20px;
    margin-bottom: 24px;
    align-items: flex-start;
  }
  .step-num {
    flex-shrink: 0;
    width: 40px;
    height: 40px;
    background: var(--navy);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 11pt;
    font-weight: 800;
    font-family: 'Cormorant Garamond', Georgia, serif;
  }
  .step-content { flex: 1; }
  .step-title {
    font-size: 11.5pt;
    font-weight: 700;
    color: var(--navy);
    margin-bottom: 4px;
  }
  .step-desc {
    font-size: 9.5pt;
    color: var(--text-muted);
    line-height: 1.65;
  }
  .step-bullets { margin-top: 8px; padding-left: 16px; }
  .step-bullets li { font-size: 9pt; color: var(--text-muted); margin-bottom: 3px; }

  /* â”€â”€ PAGE BREAK â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .page-break { page-break-before: always; padding-top: 60px; }

  /* â”€â”€ FOOTER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .doc-footer {
    border-top: 1px solid var(--border);
    padding: 24px 0 0;
    margin-top: 48px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 8pt;
    color: var(--text-muted);
  }
  .doc-footer .brand { font-weight: 700; color: var(--navy); }

  /* â”€â”€ TWO COLUMN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 32px; }
  .three-col { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 16px; margin-bottom: 32px; }

  /* â”€â”€ SMS LANGUAGE BLOCK â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .sms-pair {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 16px;
    margin-bottom: 20px;
  }
  .sms-bubble {
    background: var(--white);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 16px 18px;
  }
  .sms-lang {
    font-size: 7.5pt;
    font-weight: 700;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    margin-bottom: 8px;
  }
  .sms-lang.en { color: var(--navy); }
  .sms-lang.sw { color: var(--gold); }
  .sms-text {
    font-size: 9pt;
    color: var(--text);
    font-style: italic;
    line-height: 1.6;
    background: var(--cream);
    padding: 10px 12px;
    border-radius: 8px;
  }

  /* â”€â”€ PRINT BUTTON â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .print-btn {
    position: fixed;
    top: 24px;
    right: 24px;
    background: var(--navy);
    color: white;
    padding: 12px 24px;
    border-radius: 8px;
    border: none;
    font-size: 10pt;
    font-weight: 600;
    cursor: pointer;
    box-shadow: 0 4px 20px rgba(0,0,0,0.2);
    z-index: 9999;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: background 0.2s;
  }
  .print-btn:hover { background: var(--gold); }
  @media print { .print-btn { display: none !important; } }

  h3 { font-size: 12pt; font-weight: 700; color: var(--navy); margin-bottom: 10px; margin-top: 28px; }
  h4 { font-size: 10.5pt; font-weight: 700; color: var(--navy); margin-bottom: 8px; margin-top: 20px; }
  p { margin-bottom: 14px; }
  ul { padding-left: 20px; margin-bottom: 16px; }
  ul li { margin-bottom: 5px; font-size: 9.5pt; color: var(--text); }
  strong { color: var(--navy); }
</style>
</head>
<body>

<button class="print-btn" onclick="window.print()">ğŸ–¨ Download / Print PDF</button>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     COVER PAGE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="cover">
  <div class="cover-content">
    <div class="cover-badge">System Showcase &amp; Technical Presentation</div>
    <h1>Chabrin <span>Lease</span><br>Management System</h1>
    <p class="subtitle">Enterprise Property Lease Lifecycle Platform<br>Built for Chabrin Agencies Ltd</p>
    <div class="cover-divider"></div>
    <p style="color:rgba(255,255,255,0.6); font-size:9.5pt; letter-spacing:0.05em;">
      Powered by Laravel 11 &nbsp;Â·&nbsp; Filament 4.5 &nbsp;Â·&nbsp; PostgreSQL 16 &nbsp;Â·&nbsp; Africa's Talking SMS
    </p>
    <div class="cover-meta">
      <div class="cover-meta-item">
        <div class="label">Production URL</div>
        <div class="value">leases-docs.chabrinagencies.com</div>
      </div>
      <div class="cover-meta-item">
        <div class="label">Hosting</div>
        <div class="value">DigitalOcean â€” Nairobi Region</div>
      </div>
      <div class="cover-meta-item">
        <div class="label">Document Date</div>
        <div class="value">February 2026</div>
      </div>
    </div>
  </div>
  <div class="cover-footer">CHABRIN AGENCIES LTD &nbsp;Â·&nbsp; CONFIDENTIAL &nbsp;Â·&nbsp; 2026</div>
</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     TABLE OF CONTENTS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="page">
  <div class="section-label">Navigation</div>
  <h2 class="section-title">Table of Contents</h2>
  <div class="section-desc">This document covers every aspect of the Chabrin Lease Management System â€” from architecture to the live showcase script.</div>

  <table>
    <thead>
      <tr><th>#</th><th>Chapter</th><th>What You Will Learn</th></tr>
    </thead>
    <tbody>
      <tr><td><strong>1</strong></td><td><strong>System Overview &amp; Key Numbers</strong></td><td>What the system does, scale, and technology choices</td></tr>
      <tr><td><strong>2</strong></td><td><strong>Architecture &amp; How Everything Connects</strong></td><td>Dependency map â€” what depends on what</td></tr>
      <tr><td><strong>3</strong></td><td><strong>The Lease Lifecycle (23 States)</strong></td><td>Complete workflow from Draft â†’ Active â†’ Renewal</td></tr>
      <tr><td><strong>4</strong></td><td><strong>Role-Based Access Control</strong></td><td>9 roles, zone-based access, delegation</td></tr>
      <tr><td><strong>5</strong></td><td><strong>Digital Signing &amp; OTP Security</strong></td><td>Tenant signing portal, OTP, device fingerprinting</td></tr>
      <tr><td><strong>6</strong></td><td><strong>SMS Notifications â€” English &amp; Swahili</strong></td><td>Africa's Talking integration, bilingual messaging</td></tr>
      <tr><td><strong>7</strong></td><td><strong>Document Management</strong></td><td>Upload, review, integrity verification, audit trail</td></tr>
      <tr><td><strong>8</strong></td><td><strong>Lease Templates</strong></td><td>Custom Blade templates, versioning, PDF generation</td></tr>
      <tr><td><strong>9</strong></td><td><strong>Dashboards &amp; Widgets</strong></td><td>Role-specific dashboards, 15 live widgets</td></tr>
      <tr><td><strong>10</strong></td><td><strong>API &amp; External Integrations</strong></td><td>REST API, landlord portal, field officer app</td></tr>
      <tr><td><strong>11</strong></td><td><strong>Live Showcase Script</strong></td><td>Step-by-step demo guide for the client meeting</td></tr>
      <tr><td><strong>12</strong></td><td><strong>Key Wow-Factor Features</strong></td><td>The moments guaranteed to impress the client</td></tr>
    </tbody>
  </table>

  <div class="doc-footer">
    <div class="brand">Chabrin Agencies Ltd â€” Lease Management System</div>
    <div>Confidential &nbsp;Â·&nbsp; February 2026</div>
  </div>
</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     CHAPTER 1 â€” SYSTEM OVERVIEW
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="page page-break">
  <div class="chapter-header">
    <div class="chapter-number">Chapter 01</div>
    <div class="chapter-title">System Overview &amp; Key Numbers</div>
    <div class="chapter-sub">A high-level view of what the system does, who it serves, and the scale it operates at.</div>
  </div>

  <p>The <strong>Chabrin Lease Management System</strong> is an enterprise-grade, web-based platform that manages the complete lifecycle of property leases â€” from initial draft through landlord approval, digital tenant signing, active lease management, rent escalations, and eventual renewal or termination. Everything runs in a single, secure, audited system.</p>

  <div class="stats-row">
    <div class="stat-block gold">
      <div class="stat-num">23</div>
      <div class="stat-label">Workflow States</div>
    </div>
    <div class="stat-block">
      <div class="stat-num">32</div>
      <div class="stat-label">Database Models</div>
    </div>
    <div class="stat-block">
      <div class="stat-num">9</div>
      <div class="stat-label">User Roles</div>
    </div>
    <div class="stat-block gold">
      <div class="stat-num">2</div>
      <div class="stat-label">Languages (EN + SW)</div>
    </div>
  </div>

  <div class="stats-row">
    <div class="stat-block">
      <div class="stat-num">22</div>
      <div class="stat-label">Business Services</div>
    </div>
    <div class="stat-block gold">
      <div class="stat-num">15</div>
      <div class="stat-label">Dashboard Widgets</div>
    </div>
    <div class="stat-block">
      <div class="stat-num">40+</div>
      <div class="stat-label">API Endpoints</div>
    </div>
    <div class="stat-block gold">
      <div class="stat-num">20+</div>
      <div class="stat-label">Database Migrations</div>
    </div>
  </div>

  <h3>Who Uses This System?</h3>
  <div class="cards-grid">
    <div class="card">
      <span class="card-icon">ğŸ¢</span>
      <div class="card-title">Chabrin Admin Staff</div>
      <div class="card-body">Super admins, admins, property managers, accountants, and auditors use the full Filament admin panel to manage leases, tenants, landlords, and documents across all zones.</div>
    </div>
    <div class="card">
      <span class="card-icon">ğŸ“</span>
      <div class="card-title">Zone Managers &amp; Field Officers</div>
      <div class="card-body">Zone-restricted dashboard and mobile-friendly view. See only their zone's leases, handle on-site handovers, and capture tenant signatures in the field.</div>
    </div>
    <div class="card">
      <span class="card-icon">ğŸ </span>
      <div class="card-title">Tenants</div>
      <div class="card-body">Access a dedicated signing portal via a secure SMS link. Review their lease, verify via OTP, and apply their digital signature â€” no app download needed.</div>
    </div>
    <div class="card">
      <span class="card-icon">ğŸ‘¤</span>
      <div class="card-title">Landlords</div>
      <div class="card-body">Receive approval requests via SMS/email. Access a simple approval portal to review, approve, or reject lease agreements with reasons.</div>
    </div>
  </div>

  <h3>Technology Stack</h3>
  <table>
    <thead><tr><th>Layer</th><th>Technology</th><th>Purpose</th></tr></thead>
    <tbody>
      <tr><td><strong>Backend Framework</strong></td><td>Laravel 11 + PHP 8.2+</td><td>Core application, business logic, API</td></tr>
      <tr><td><strong>Admin Panel</strong></td><td>Filament 4.5</td><td>Rich CRUD interface, dashboards, workflows</td></tr>
      <tr><td><strong>Database</strong></td><td>PostgreSQL 16</td><td>Primary data store, JSON columns, full-text search</td></tr>
      <tr><td><strong>SMS Provider</strong></td><td>Africa's Talking API</td><td>Tenant & landlord SMS notifications (EN + SW)</td></tr>
      <tr><td><strong>PDF Generation</strong></td><td>barryvdh/laravel-dompdf</td><td>Lease PDFs, template rendering, download</td></tr>
      <tr><td><strong>Authentication</strong></td><td>Laravel Sanctum + Spatie RBAC</td><td>API tokens, role/permission management</td></tr>
      <tr><td><strong>Frontend</strong></td><td>Tailwind CSS 4 + Vite 7</td><td>Custom Chabrin executive theme (gold/cream)</td></tr>
      <tr><td><strong>Hosting</strong></td><td>DigitalOcean (Nairobi)</td><td>Production server, deploy@161.35.74.238</td></tr>
      <tr><td><strong>Monitoring</strong></td><td>Laravel Pulse</td><td>Performance, queue health, cache, DB stats</td></tr>
    </tbody>
  </table>

  <div class="doc-footer">
    <div class="brand">Chabrin Agencies Ltd â€” Lease Management System</div>
    <div>Chapter 1 &nbsp;Â·&nbsp; System Overview</div>
  </div>
</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     CHAPTER 2 â€” ARCHITECTURE & DEPENDENCIES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="page page-break">
  <div class="chapter-header">
    <div class="chapter-number">Chapter 02</div>
    <div class="chapter-title">Architecture &amp; How Everything Connects</div>
    <div class="chapter-sub">The dependency map â€” what each component relies on, and how data flows through the system.</div>
  </div>

  <h3>Core Dependency Map</h3>
  <p>Every object in the system connects upward to the <strong>Lease</strong> as the central record. A lease cannot exist without its dependencies being set up first.</p>

  <div class="dep-map">
    <div class="dep-row">
      <div class="dep-source">Zone</div>
      <div class="dep-arrow">â†’</div>
      <div class="dep-targets">
        <span class="badge badge-navy">Landlord</span>
        <span class="badge badge-navy">Property</span>
        <span class="badge badge-navy">Unit</span>
        <span class="badge badge-navy">User (Field Officer)</span>
        <span class="badge badge-navy">User (Zone Manager)</span>
        <span class="badge badge-navy">Lease</span>
      </div>
    </div>
    <div style="height:4px"></div>
    <div class="dep-row">
      <div class="dep-source">Landlord</div>
      <div class="dep-arrow">â†’</div>
      <div class="dep-targets">
        <span class="badge badge-navy">Property</span>
        <span class="badge badge-navy">Lease</span>
        <span class="badge badge-navy">LeaseApproval</span>
      </div>
    </div>
    <div style="height:4px"></div>
    <div class="dep-row">
      <div class="dep-source">Property</div>
      <div class="dep-arrow">â†’</div>
      <div class="dep-targets">
        <span class="badge badge-navy">Unit</span>
        <span class="badge badge-navy">Lease</span>
      </div>
    </div>
    <div style="height:4px"></div>
    <div class="dep-row">
      <div class="dep-source">Unit</div>
      <div class="dep-arrow">â†’</div>
      <div class="dep-targets">
        <span class="badge badge-navy">Lease</span>
      </div>
    </div>
    <div style="height:4px"></div>
    <div class="dep-row">
      <div class="dep-source">Tenant</div>
      <div class="dep-arrow">â†’</div>
      <div class="dep-targets">
        <span class="badge badge-navy">Lease</span>
        <span class="badge badge-navy">TenantEvent (CRM)</span>
        <span class="badge badge-navy">OTPVerification</span>
        <span class="badge badge-navy">DigitalSignature</span>
        <span class="badge badge-navy">Guarantor</span>
      </div>
    </div>
    <div style="height:4px"></div>
    <div class="dep-row">
      <div class="dep-source">LeaseTemplate</div>
      <div class="dep-arrow">â†’</div>
      <div class="dep-targets">
        <span class="badge badge-navy">Lease</span>
        <span class="badge badge-navy">LeaseTemplateVersion</span>
        <span class="badge badge-navy">LeaseTemplateAssignment</span>
      </div>
    </div>
    <div style="height:4px"></div>
    <div class="dep-row">
      <div class="dep-source" style="background:var(--gold); font-size:10pt;">âœ¦ LEASE</div>
      <div class="dep-arrow">â†’</div>
      <div class="dep-targets" style="border-color: rgba(218,165,32,0.5);">
        <span class="badge badge-gold">LeaseDocument</span>
        <span class="badge badge-gold">LeaseAuditLog</span>
        <span class="badge badge-gold">LeaseEdit</span>
        <span class="badge badge-gold">LeaseHandover</span>
        <span class="badge badge-gold">LeasePrintLog</span>
        <span class="badge badge-gold">LeaseApproval</span>
        <span class="badge badge-gold">OTPVerification</span>
        <span class="badge badge-gold">DigitalSignature</span>
        <span class="badge badge-gold">RentEscalation</span>
        <span class="badge badge-gold">Guarantor</span>
        <span class="badge badge-gold">LeaseLawyerTracking</span>
        <span class="badge badge-gold">LeaseEscalation</span>
        <span class="badge badge-gold">LeaseCopyDistribution</span>
      </div>
    </div>
  </div>

  <div class="highlight-box">
    <strong>Setup Order Matters:</strong> Before creating a lease, you must have â€” Zone â†’ Landlord â†’ Property â†’ Unit â†’ Tenant â€” all set up. A lease template must also be active. The system enforces all foreign key relationships.
  </div>

  <h3>Service Layer â€” Business Logic</h3>
  <div class="cards-grid">
    <div class="card">
      <div class="card-title">ğŸ” OTPService</div>
      <div class="card-body">Generates 6-digit OTP, bcrypt-hashes it, sends via SMS. Validates with Hash::check(). Rate-limited to 3/hour. Max 3 verification attempts. 10-minute expiry. Stores device fingerprint for fraud detection.</div>
    </div>
    <div class="card">
      <div class="card-title">âœï¸ DigitalSigningService</div>
      <div class="card-body">Generates cryptographically signed URLs (72-hour expiry). Sends signing link via SMS + email. Captures base64 signature image with IP, GPS coordinates, and SHA256 verification hash.</div>
    </div>
    <div class="card">
      <div class="card-title">ğŸ“± SMSService</div>
      <div class="card-body">Wraps Africa's Talking API. Supports English & Swahili localization. Queues SMS asynchronously (SendSMSJob) with 3 retries. Covers 12+ lifecycle events from creation to expiry.</div>
    </div>
    <div class="card">
      <div class="card-title">ğŸ“„ TemplateRenderService</div>
      <div class="card-body">Compiles Blade templates with real lease data. Injects $lease, $tenant, $unit, $property, $landlord objects. Renders to HTML then DomPDF converts to downloadable PDF.</div>
    </div>
    <div class="card">
      <div class="card-title">ğŸ“ˆ LeaseRenewalService</div>
      <div class="card-body">Offers renewal 60 days before expiry. Applies 10% default escalation (configurable). Manages tenant accept/decline. Links new lease back to old for full audit trail.</div>
    </div>
    <div class="card">
      <div class="card-title">ğŸ”’ DeviceFingerprintService</div>
      <div class="card-body">Generates device fingerprints from IP + user-agent + browser state. Detects if OTP is being requested from a different device. Risk scoring. Blocks suspicious activity automatically.</div>
    </div>
  </div>

  <div class="doc-footer">
    <div class="brand">Chabrin Agencies Ltd â€” Lease Management System</div>
    <div>Chapter 2 &nbsp;Â·&nbsp; Architecture</div>
  </div>
</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     CHAPTER 3 â€” LEASE WORKFLOW
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="page page-break">
  <div class="chapter-header">
    <div class="chapter-number">Chapter 03</div>
    <div class="chapter-title">The Lease Lifecycle â€” 23 Workflow States</div>
    <div class="chapter-sub">Every lease follows a defined state machine. Transitions are validated â€” an invalid move is rejected by the system.</div>
  </div>

  <h3>Complete State Flow</h3>

  <div class="workflow-chain">
    <div class="wf-step active">1. Draft</div><div class="wf-arrow">â†’</div>
    <div class="wf-step">2. Received</div><div class="wf-arrow">â†’</div>
    <div class="wf-step">3. Pending Landlord Approval</div><div class="wf-arrow">â†’</div>
    <div class="wf-step gold">4. Approved</div><div class="wf-arrow">â†’</div>
    <div class="wf-step">5. Printed</div>
  </div>
  <div class="workflow-chain">
    <div class="wf-step">6. Checked Out</div><div class="wf-arrow">â†’</div>
    <div class="wf-step active">7. Sent Digital</div><div class="wf-arrow">â†’</div>
    <div class="wf-step">8. Pending OTP</div><div class="wf-arrow">â†’</div>
    <div class="wf-step">9. Pending Signature</div><div class="wf-arrow">â†’</div>
    <div class="wf-step gold">10. Tenant Signed</div>
  </div>
  <div class="workflow-chain">
    <div class="wf-step">11. With Lawyer</div><div class="wf-arrow">â†’</div>
    <div class="wf-step">12. Pending Upload</div><div class="wf-arrow">â†’</div>
    <div class="wf-step">13. Pending Deposit</div><div class="wf-arrow">â†’</div>
    <div class="wf-step green">14. âœ“ ACTIVE</div>
  </div>
  <div class="workflow-chain" style="margin-top:8px">
    <div class="wf-step" style="background:#f59e0b;color:white;border-color:#f59e0b">15. Renewal Offered</div><div class="wf-arrow">â†’</div>
    <div class="wf-step" style="background:#10b981;color:white;border-color:#10b981">16. Renewal Accepted</div>
    <span style="padding:0 10px;color:#64748b;font-size:9pt;"> or </span>
    <div class="wf-step" style="background:#ef4444;color:white;border-color:#ef4444">17. Renewal Declined</div>
  </div>
  <div class="workflow-chain" style="margin-top:8px">
    <div class="wf-step" style="color:#64748b">18. Expired</div>
    <div class="wf-arrow">Â·</div>
    <div class="wf-step" style="color:#ef4444;border-color:rgba(239,68,68,0.3)">19. Terminated</div>
    <div class="wf-arrow">Â·</div>
    <div class="wf-step" style="color:#64748b">20. Cancelled</div>
    <div class="wf-arrow">Â·</div>
    <div class="wf-step" style="color:#f59e0b;border-color:rgba(245,158,11,0.3)">21. Disputed</div>
    <div class="wf-arrow">Â·</div>
    <div class="wf-step" style="color:#64748b">22. Archived</div>
  </div>

  <h3>State-by-State Detail</h3>
  <table>
    <thead><tr><th>State</th><th>Who Acts</th><th>What Happens</th><th>SMS Sent?</th></tr></thead>
    <tbody>
      <tr><td><strong>Draft</strong></td><td>Admin / Field Officer</td><td>Lease created with all details. Template selected. Reference number auto-generated.</td><td>â€”</td></tr>
      <tr><td><strong>Received</strong></td><td>System</td><td>Lease recorded as officially received. Serial number assigned.</td><td>â€”</td></tr>
      <tr><td><strong>Pending Landlord Approval</strong></td><td>System â†’ Landlord</td><td>SMS + email notification sent to landlord with approval link.</td><td>âœ… Landlord</td></tr>
      <tr><td><strong>Approved</strong></td><td>Landlord</td><td>Landlord approves via portal or admin approves on their behalf. PDF generated with QR code.</td><td>âœ… Tenant</td></tr>
      <tr><td><strong>Printed</strong></td><td>Admin</td><td>Physical copy printed. Print log records user, workstation, copies.</td><td>â€”</td></tr>
      <tr><td><strong>Checked Out</strong></td><td>Field Officer</td><td>Physical lease checked out for field delivery. Handover record created.</td><td>â€”</td></tr>
      <tr><td><strong>Sent Digital</strong></td><td>Admin</td><td>Signing link generated (72hr expiry). SMS + email to tenant with link.</td><td>âœ… Tenant</td></tr>
      <tr><td><strong>Pending OTP</strong></td><td>Tenant</td><td>Tenant opens link, requests OTP. 6-digit code sent via SMS. 10-minute expiry.</td><td>âœ… Tenant OTP</td></tr>
      <tr><td><strong>Pending Signature</strong></td><td>Tenant</td><td>OTP verified. Tenant views lease and draws/uploads digital signature.</td><td>â€”</td></tr>
      <tr><td><strong>Tenant Signed</strong></td><td>System</td><td>Signature captured. SHA256 hash stored. GPS coordinates logged. Admin notified.</td><td>âœ… Admin notify</td></tr>
      <tr><td><strong>With Lawyer</strong></td><td>Admin</td><td>Assigned to law firm for review. Turnaround time tracked.</td><td>â€”</td></tr>
      <tr><td><strong>Pending Upload</strong></td><td>Field Officer</td><td>Signed physical copy scanned and uploaded. Document review queue.</td><td>â€”</td></tr>
      <tr><td><strong>Pending Deposit</strong></td><td>Accountant</td><td>Security deposit awaiting payment confirmation.</td><td>âœ… Reminder</td></tr>
      <tr><td><strong>Active</strong></td><td>System</td><td>Lease fully executed. Rent escalation schedule activated. Renewal timer starts.</td><td>âœ… Tenant welcome</td></tr>
      <tr><td><strong>Disputed</strong></td><td>Tenant</td><td>Tenant disputes lease (6 reasons). Dispute reason recorded. Admin notified.</td><td>âœ… Admin notify</td></tr>
    </tbody>
  </table>

  <div class="highlight-box">
    <strong>Dispute Reasons Available:</strong> Rent Too High &nbsp;Â·&nbsp; Wrong Dates &nbsp;Â·&nbsp; Incorrect Details &nbsp;Â·&nbsp; Terms Disagreement &nbsp;Â·&nbsp; Not My Lease &nbsp;Â·&nbsp; Other â€” Each reason triggers different escalation paths.
  </div>

  <div class="doc-footer">
    <div class="brand">Chabrin Agencies Ltd â€” Lease Management System</div>
    <div>Chapter 3 &nbsp;Â·&nbsp; Lease Lifecycle</div>
  </div>
</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     CHAPTER 4 â€” RBAC
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="page page-break">
  <div class="chapter-header">
    <div class="chapter-number">Chapter 04</div>
    <div class="chapter-title">Role-Based Access Control &amp; Zones</div>
    <div class="chapter-sub">9 defined roles, zone-scoped access, and delegation capability â€” every user sees only what they need to.</div>
  </div>

  <h3>The 9 System Roles</h3>
  <table>
    <thead><tr><th>Role</th><th>Scope</th><th>Key Capabilities</th></tr></thead>
    <tbody>
      <tr>
        <td><strong>Super Admin</strong></td>
        <td><span class="badge badge-gold">All Zones</span></td>
        <td>Full system access. User management. Role assignment. All data visible.</td>
      </tr>
      <tr>
        <td><strong>Admin</strong></td>
        <td><span class="badge badge-gold">All Zones</span></td>
        <td>Lease management, tenant/landlord/property CRUD, document review, reports.</td>
      </tr>
      <tr>
        <td><strong>Property Manager</strong></td>
        <td><span class="badge badge-navy">Assigned Zones</span></td>
        <td>Lease & property management within assigned zones. Cannot manage users or roles.</td>
      </tr>
      <tr>
        <td><strong>Zone Manager</strong></td>
        <td><span class="badge badge-navy">Own Zone Only</span></td>
        <td>Full visibility of their zone. Manages field officers. Zone dashboard access.</td>
      </tr>
      <tr>
        <td><strong>Field Officer</strong></td>
        <td><span class="badge badge-navy">Own Zone Only</span></td>
        <td>View &amp; process assigned leases. Document upload. Mobile API access.</td>
      </tr>
      <tr>
        <td><strong>Senior Field Officer</strong></td>
        <td><span class="badge badge-navy">Own Zone Only</span></td>
        <td>Elevated field operations. Can approve handovers and validate documents.</td>
      </tr>
      <tr>
        <td><strong>Auditor</strong></td>
        <td><span class="badge badge-navy">Own Zone</span></td>
        <td>Read-only access to audit logs, lease history, document trails.</td>
      </tr>
      <tr>
        <td><strong>Internal Auditor</strong></td>
        <td><span class="badge badge-gold">All Zones</span></td>
        <td>Read-only access across all zones. Full audit trail visibility for compliance.</td>
      </tr>
      <tr>
        <td><strong>Accountant</strong></td>
        <td><span class="badge badge-navy">Own Zone</span></td>
        <td>Financial operations. Deposit confirmation. Rent escalation management. Reports.</td>
      </tr>
    </tbody>
  </table>

  <h3>Zone-Based Scoping</h3>
  <div class="cards-grid">
    <div class="card">
      <span class="card-icon">ğŸ—ºï¸</span>
      <div class="card-title">What is a Zone?</div>
      <div class="card-body">A Zone is a geographic operational region (e.g. Nairobi CBD, Westlands, Mombasa). Each zone has one Zone Manager and multiple Field Officers. Landlords, properties, units, and leases are all zone-assigned.</div>
    </div>
    <div class="card">
      <span class="card-icon">ğŸ”’</span>
      <div class="card-title">Zone Scoping Rules</div>
      <div class="card-body">Zone-restricted users only see records in their zone. SQL queries are automatically filtered by zone_id. A field officer in Westlands cannot see a lease in CBD â€” not even by guessing the URL.</div>
    </div>
    <div class="card">
      <span class="card-icon">ğŸ”„</span>
      <div class="card-title">Acting / Delegation</div>
      <div class="card-body">A Zone Manager can designate a backup officer ("acting for"). When active, the backup has the manager's permissions. The system logs all acting-for actions separately for audit.</div>
    </div>
    <div class="card">
      <span class="card-icon">ğŸ“Š</span>
      <div class="card-title">Availability Tracking</div>
      <div class="card-body">Users have an availability status: Available, On Leave, or Away. The system displays this and routes tasks to available officers. This integrates with the delegation system.</div>
    </div>
  </div>

  <div class="info-box">
    <strong>Spatie Laravel Permission:</strong> Under the hood, roles and permissions use the industry-standard <em>spatie/laravel-permission</em> library (v6). All role/permission changes are recorded in <code>role_audit_logs</code> with user, timestamp, and IP address. This is an immutable audit trail for compliance purposes.
  </div>

  <div class="doc-footer">
    <div class="brand">Chabrin Agencies Ltd â€” Lease Management System</div>
    <div>Chapter 4 &nbsp;Â·&nbsp; RBAC &amp; Zones</div>
  </div>
</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     CHAPTER 5 â€” DIGITAL SIGNING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="page page-break">
  <div class="chapter-header">
    <div class="chapter-number">Chapter 05</div>
    <div class="chapter-title">Digital Signing &amp; OTP Security</div>
    <div class="chapter-sub">The tenant signing portal uses military-grade security â€” OTP verification, device fingerprinting, and cryptographic signature hashing.</div>
  </div>

  <h3>End-to-End Signing Flow</h3>
  <div class="showcase-steps">
    <div class="showcase-step">
      <div class="step-num">1</div>
      <div class="step-content">
        <div class="step-title">Admin Sends Signing Link</div>
        <div class="step-desc">Admin clicks "Send Digital" in the admin panel. System generates a <strong>cryptographically signed URL</strong> with a 72-hour expiry. Link sent via SMS and email simultaneously.</div>
      </div>
    </div>
    <div class="showcase-step">
      <div class="step-num">2</div>
      <div class="step-content">
        <div class="step-title">Tenant Opens Link</div>
        <div class="step-desc">Tenant taps the SMS link on their phone. They land on the tenant signing portal â€” a clean, mobile-optimised page. The system records the device fingerprint (IP + browser + OS).</div>
      </div>
    </div>
    <div class="showcase-step">
      <div class="step-num">3</div>
      <div class="step-content">
        <div class="step-title">OTP Requested</div>
        <div class="step-desc">Tenant clicks "Send me a code". A <strong>6-digit OTP is generated, bcrypt-hashed, and stored in the database</strong>. The plaintext code is sent via SMS only â€” never stored. Rate-limited to 3 requests/hour.</div>
      </div>
    </div>
    <div class="showcase-step">
      <div class="step-num">4</div>
      <div class="step-content">
        <div class="step-title">OTP Verified</div>
        <div class="step-desc">Tenant enters the code. System uses <code>Hash::check()</code> (constant-time comparison) to verify against the stored hash. Maximum 3 attempts before the OTP expires. Device fingerprint compared â€” suspicious if different device.</div>
      </div>
    </div>
    <div class="showcase-step">
      <div class="step-num">5</div>
      <div class="step-content">
        <div class="step-title">Tenant Reviews &amp; Signs</div>
        <div class="step-desc">Tenant reads the full lease document on-screen. They either draw their signature on a canvas OR upload a signature image. GPS coordinates captured (with permission). They can also <strong>reject with a reason</strong> (6 dispute options).</div>
      </div>
    </div>
    <div class="showcase-step">
      <div class="step-num">6</div>
      <div class="step-content">
        <div class="step-title">Signature Stored Securely</div>
        <div class="step-desc">Signature data (base64 PNG) stored in database. <strong>SHA256 verification hash</strong> generated and stored. IP address, user-agent, latitude, longitude, and timestamp all recorded. Lease transitions to "Tenant Signed".</div>
      </div>
    </div>
  </div>

  <h3>Security Layers Summary</h3>
  <table>
    <thead><tr><th>Security Feature</th><th>Implementation</th><th>Why It Matters</th></tr></thead>
    <tbody>
      <tr><td><strong>OTP Hashing</strong></td><td>bcrypt via Hash::make()</td><td>Plaintext OTP never stored â€” even a DB breach reveals nothing</td></tr>
      <tr><td><strong>Constant-Time Compare</strong></td><td>Hash::check()</td><td>Prevents timing attacks on OTP guessing</td></tr>
      <tr><td><strong>Rate Limiting</strong></td><td>3 OTPs/hour, 3 verifications max</td><td>Blocks brute force and SMS bombing attacks</td></tr>
      <tr><td><strong>Device Fingerprinting</strong></td><td>IP + User-Agent + Browser hash</td><td>Detects if OTP is used on a different device</td></tr>
      <tr><td><strong>Risk Scoring</strong></td><td>DeviceFingerprintService</td><td>Flags suspicious requests for admin review</td></tr>
      <tr><td><strong>Signed URLs</strong></td><td>Laravel cryptographic signing</td><td>Links expire after 72 hours, cannot be forged</td></tr>
      <tr><td><strong>Signature Hash</strong></td><td>SHA256 of signature data</td><td>Proves the signature was not modified after submission</td></tr>
      <tr><td><strong>GPS Location</strong></td><td>Optional browser geolocation API</td><td>Records where the tenant physically signed</td></tr>
      <tr><td><strong>Throttling</strong></td><td>Laravel rate limiters (5/min OTP, 3/min sign)</td><td>Prevents API abuse</td></tr>
    </tbody>
  </table>

  <div class="doc-footer">
    <div class="brand">Chabrin Agencies Ltd â€” Lease Management System</div>
    <div>Chapter 5 &nbsp;Â·&nbsp; Digital Signing &amp; OTP</div>
  </div>
</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     CHAPTER 6 â€” SMS & LANGUAGES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="page page-break">
  <div class="chapter-header">
    <div class="chapter-number">Chapter 06</div>
    <div class="chapter-title">SMS Notifications â€” English &amp; Kiswahili</div>
    <div class="chapter-sub">Every tenant communication is sent in their preferred language. Powered by Africa's Talking API â€” Kenya's leading SMS gateway.</div>
  </div>

  <h3>Africa's Talking Integration</h3>
  <p>The system uses <strong>Africa's Talking</strong> as the SMS provider â€” the same provider trusted by banks, Safaricom partners, and government services across Kenya and East Africa. Messages appear from the <strong>CHABRIN</strong> shortcode/sender ID.</p>

  <div class="two-col">
    <div class="card">
      <div class="card-title">ğŸ“¡ API Integration</div>
      <div class="card-body">
        Direct HTTPS integration to Africa's Talking messaging API. SMS jobs are queued asynchronously (Laravel Queue + SendSMSJob) so a slow API response never delays the user. 3 retry attempts with exponential backoff (10s â†’ 30s â†’ 60s).
      </div>
    </div>
    <div class="card">
      <div class="card-title">ğŸ’¬ Tenant Language Preference</div>
      <div class="card-body">
        Each tenant has a <code>preferred_language</code> field: <strong>English (en)</strong> or <strong>Kiswahili (sw)</strong>. The SMSService automatically switches locale and sends in the tenant's language. No manual translation needed.
      </div>
    </div>
  </div>

  <h3>SMS Events â€” When Messages Are Sent</h3>
  <table>
    <thead><tr><th>Event</th><th>Recipients</th><th>Trigger</th></tr></thead>
    <tbody>
      <tr><td><strong>OTP Code</strong></td><td>Tenant</td><td>Tenant requests verification code on signing portal</td></tr>
      <tr><td><strong>Lease Created</strong></td><td>Tenant</td><td>New lease drafted and saved in system</td></tr>
      <tr><td><strong>Approval Request</strong></td><td>Landlord</td><td>Lease moves to "Pending Landlord Approval" state</td></tr>
      <tr><td><strong>Lease Approved</strong></td><td>Tenant</td><td>Landlord approves the lease</td></tr>
      <tr><td><strong>Lease Rejected</strong></td><td>Tenant</td><td>Landlord rejects with reason</td></tr>
      <tr><td><strong>Signing Link</strong></td><td>Tenant</td><td>Admin sends digital signing link</td></tr>
      <tr><td><strong>Signing Reminder</strong></td><td>Tenant</td><td>Lease unsigned after 24 hours â€” automatic reminder</td></tr>
      <tr><td><strong>Lease Signed Confirmation</strong></td><td>Tenant</td><td>Digital signature successfully captured</td></tr>
      <tr><td><strong>Lease Expiring</strong></td><td>Tenant</td><td>60 days before lease expiry â€” renewal prompt</td></tr>
      <tr><td><strong>Payment Received</strong></td><td>Tenant</td><td>Rent/deposit payment confirmed by accountant</td></tr>
      <tr><td><strong>Payment Reminder</strong></td><td>Tenant</td><td>Rent due in 3 days</td></tr>
      <tr><td><strong>Payment Overdue</strong></td><td>Tenant</td><td>Rent overdue by 5+ days</td></tr>
      <tr><td><strong>Welcome Message</strong></td><td>Tenant</td><td>Lease activated (deposit confirmed)</td></tr>
    </tbody>
  </table>

  <h3>Bilingual Message Examples</h3>

  <div class="sms-pair">
    <div class="sms-bubble">
      <div class="sms-lang en">ğŸ‡¬ğŸ‡§ English</div>
      <div class="sms-text">"Dear John Mwangi, your lease for Unit 4B at Westview Apartments has been approved. Your signing link will be sent shortly. â€” Chabrin Agencies"</div>
    </div>
    <div class="sms-bubble">
      <div class="sms-lang sw">ğŸ‡°ğŸ‡ª Kiswahili</div>
      <div class="sms-text">"Habari John Mwangi, mkataba wako wa kukodi chumba cha 4B katika Westview Apartments umeidhinishwa. Kiungo cha kusainiwa kitatumwa hivi karibuni. â€” Chabrin Agencies"</div>
    </div>
  </div>

  <div class="sms-pair">
    <div class="sms-bubble">
      <div class="sms-lang en">ğŸ‡¬ğŸ‡§ OTP â€” English</div>
      <div class="sms-text">"Your Chabrin signing verification code is: 847291. Valid for 10 minutes. Do not share this code with anyone."</div>
    </div>
    <div class="sms-bubble">
      <div class="sms-lang sw">ğŸ‡°ğŸ‡ª OTP â€” Kiswahili</div>
      <div class="sms-text">"Nambari yako ya uthibitisho wa Chabrin ni: 847291. Inatumika kwa dakika 10. Usishiriki nambari hii na mtu yeyote."</div>
    </div>
  </div>

  <div class="sms-pair">
    <div class="sms-bubble">
      <div class="sms-lang en">ğŸ‡¬ğŸ‡§ Signing Link â€” English</div>
      <div class="sms-text">"Your lease is ready to sign. Click here to review and sign your agreement: https://leases-docs.chabrinagencies.com/tenant/sign/LEA-2026-00142 (Link valid for 72 hours)"</div>
    </div>
    <div class="sms-bubble">
      <div class="sms-lang sw">ğŸ‡°ğŸ‡ª Signing Link â€” Kiswahili</div>
      <div class="sms-text">"Mkataba wako uko tayari kusainiwa. Bonyeza hapa kukagua na kusaini makubaliano yako: https://leases-docs.chabrinagencies.com/tenant/sign/LEA-2026-00142 (Kiungo ni halali kwa masaa 72)"</div>
    </div>
  </div>

  <div class="doc-footer">
    <div class="brand">Chabrin Agencies Ltd â€” Lease Management System</div>
    <div>Chapter 6 &nbsp;Â·&nbsp; SMS &amp; Languages</div>
  </div>
</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     CHAPTER 7 â€” DOCUMENT MANAGEMENT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="page page-break">
  <div class="chapter-header">
    <div class="chapter-number">Chapter 07</div>
    <div class="chapter-title">Document Management &amp; Integrity</div>
    <div class="chapter-sub">Every document uploaded is tracked, reviewed, quality-checked, integrity-verified, and audited from upload to archival.</div>
  </div>

  <h3>Document Lifecycle</h3>
  <div class="workflow-chain">
    <div class="wf-step">Upload</div><div class="wf-arrow">â†’</div>
    <div class="wf-step active">Pending Review</div><div class="wf-arrow">â†’</div>
    <div class="wf-step">In Review</div><div class="wf-arrow">â†’</div>
    <div class="wf-step gold">Approved</div><div class="wf-arrow">â†’</div>
    <div class="wf-step green">Linked to Lease</div>
    <span style="padding:0 8px;color:#64748b;font-size:9pt"> or </span>
    <div class="wf-step" style="color:#ef4444;border-color:rgba(239,68,68,0.3)">Rejected (+ Reason)</div>
  </div>

  <div class="cards-grid">
    <div class="card">
      <span class="card-icon">ğŸ“‹</span>
      <div class="card-title">Document Sources</div>
      <div class="card-body">
        <strong>Scanned</strong> â€” physical copy scanned by field officer<br>
        <strong>Landlord Upload</strong> â€” uploaded via landlord portal<br>
        <strong>System Generated</strong> â€” PDF produced by the system<br>
        <strong>Email Received</strong> â€” document received via email
      </div>
    </div>
    <div class="card">
      <span class="card-icon">â­</span>
      <div class="card-title">Quality Assessment</div>
      <div class="card-body">
        Every uploaded document is quality-rated:<br>
        <span class="badge badge-green">Good</span> â€” Clear and readable<br>
        <span class="badge badge-navy">Fair</span> â€” Acceptable quality<br>
        <span class="badge badge-gold">Poor</span> â€” Needs attention<br>
        <span class="badge badge-red">Illegible</span> â€” Must be rescanned
      </div>
    </div>
    <div class="card">
      <span class="card-icon">ğŸ”</span>
      <div class="card-title">Integrity Verification</div>
      <div class="card-body">Every uploaded file is <strong>SHA256-hashed</strong> at upload time. The hash is stored in the database. At any point, you can run "Verify Integrity" â€” the system re-hashes the file and compares. Detects tampering or corruption.</div>
    </div>
    <div class="card">
      <span class="card-icon">ğŸ—œï¸</span>
      <div class="card-title">Compression &amp; Storage</div>
      <div class="card-body">Large PDFs are automatically compressed by DocumentCompressionService. The system tracks original size, compressed size, and savings percentage. Compressed documents can be restored at any time.</div>
    </div>
  </div>

  <h3>Document Review Workflow</h3>
  <ul class="feature-list">
    <li>
      <span class="fi">ğŸ“¥</span>
      <div>
        <div class="fi-title">Review Queue</div>
        <div class="fi-desc">A dedicated "Review Queue" page shows all documents awaiting review, sorted by upload date. Reviewers see document type, source, quality, and file preview.</div>
      </div>
    </li>
    <li>
      <span class="fi">âœ…</span>
      <div>
        <div class="fi-title">Approval &amp; Linking</div>
        <div class="fi-desc">Approved documents are linked to their lease. Once linked, the lease can progress to the next state. Linking is irreversible (except by super admin).</div>
      </div>
    </li>
    <li>
      <span class="fi">âŒ</span>
      <div>
        <div class="fi-title">Rejection with Reason</div>
        <div class="fi-desc">Rejected documents record the rejection reason. The uploader is notified. Documents can be resubmitted â€” creating a new version, with the original retained as a parent document.</div>
      </div>
    </li>
    <li>
      <span class="fi">ğŸ“</span>
      <div>
        <div class="fi-title">Full Audit Trail</div>
        <div class="fi-desc">Every action on every document (upload, review start, approve, reject, link, re-link, integrity check) is recorded in DocumentAudit with user, timestamp, and IP address.</div>
      </div>
    </li>
    <li>
      <span class="fi">ğŸ“¤</span>
      <div>
        <div class="fi-title">Bulk Upload</div>
        <div class="fi-desc">The Bulk Upload page allows field officers to upload multiple documents simultaneously â€” drag and drop, with automatic MIME type validation and size limits.</div>
      </div>
    </li>
  </ul>

  <div class="doc-footer">
    <div class="brand">Chabrin Agencies Ltd â€” Lease Management System</div>
    <div>Chapter 7 &nbsp;Â·&nbsp; Document Management</div>
  </div>
</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     CHAPTER 8 â€” LEASE TEMPLATES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="page page-break">
  <div class="chapter-header">
    <div class="chapter-number">Chapter 08</div>
    <div class="chapter-title">Lease Templates &amp; PDF Generation</div>
    <div class="chapter-sub">Customisable lease document templates with version control, PDF preview, and auto variable detection.</div>
  </div>

  <div class="cards-grid-3">
    <div class="card">
      <span class="card-icon">ğŸ </span>
      <div class="card-title">Residential Major</div>
      <div class="card-body">Full-length residential tenancy agreement for standard properties. Multi-page with all standard clauses.</div>
    </div>
    <div class="card">
      <span class="card-icon">ğŸ˜ï¸</span>
      <div class="card-title">Residential Micro</div>
      <div class="card-body">Simplified residential agreement for bedsitters, single rooms. Shorter format, key terms only.</div>
    </div>
    <div class="card">
      <span class="card-icon">ğŸ¢</span>
      <div class="card-title">Commercial</div>
      <div class="card-body">Commercial tenancy agreement for shops, offices, warehouses with commercial-specific clauses.</div>
    </div>
  </div>

  <h3>Template Features</h3>
  <ul class="feature-list">
    <li>
      <span class="fi">âœï¸</span>
      <div>
        <div class="fi-title">Blade Template Editor</div>
        <div class="fi-desc">Write HTML + Blade syntax directly in the admin. Variables like <code>{{ $tenant->names }}</code>, <code>{{ $lease->monthly_rent }}</code> are automatically detected and listed.</div>
      </div>
    </li>
    <li>
      <span class="fi">ğŸ“¤</span>
      <div>
        <div class="fi-title">PDF Upload &amp; Extraction</div>
        <div class="fi-desc">Upload an existing PDF lease. The system parses the text, converts it to Blade, and auto-maps variable placeholders (tenant name, rent, dates) ready for editing.</div>
      </div>
    </li>
    <li>
      <span class="fi">ğŸ”„</span>
      <div>
        <div class="fi-title">Version Control</div>
        <div class="fi-desc">Every save creates an immutable version snapshot. View full history, compare any two versions side-by-side, and restore any previous version at any time.</div>
      </div>
    </li>
    <li>
      <span class="fi">ğŸ‘ï¸</span>
      <div>
        <div class="fi-title">Live PDF Preview</div>
        <div class="fi-desc">Click "Preview PDF" â€” the system renders the template with sample data and displays an instant PDF in a new tab. See exactly how the finished document will look.</div>
      </div>
    </li>
    <li>
      <span class="fi">ğŸ¨</span>
      <div>
        <div class="fi-title">Branding &amp; Styling</div>
        <div class="fi-desc">Upload Chabrin logo, set primary/secondary colours, header text, footer text, and custom CSS â€” all configurable per template without touching code.</div>
      </div>
    </li>
    <li>
      <span class="fi">ğŸ”—</span>
      <div>
        <div class="fi-title">Lease Assignment Tracking</div>
        <div class="fi-desc">The system records exactly which template version was used for each lease. Even if the template is updated, old leases always reference the exact version that was used when they were signed.</div>
      </div>
    </li>
  </ul>

  <div class="doc-footer">
    <div class="brand">Chabrin Agencies Ltd â€” Lease Management System</div>
    <div>Chapter 8 &nbsp;Â·&nbsp; Lease Templates</div>
  </div>
</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     CHAPTER 9 â€” DASHBOARDS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="page page-break">
  <div class="chapter-header">
    <div class="chapter-number">Chapter 09</div>
    <div class="chapter-title">Dashboards, Widgets &amp; Reporting</div>
    <div class="chapter-sub">Role-specific dashboards give every user exactly the data they need â€” no more, no less.</div>
  </div>

  <h3>Role-Specific Dashboards</h3>
  <table>
    <thead><tr><th>Dashboard</th><th>Who Sees It</th><th>What It Shows</th></tr></thead>
    <tbody>
      <tr>
        <td><strong>Company Dashboard</strong></td>
        <td>Super Admin, Admin</td>
        <td>Company-wide KPIs: total active leases, revenue trend, pending approvals, expiring soon, SMS balance, system health</td>
      </tr>
      <tr>
        <td><strong>Zone Dashboard</strong></td>
        <td>Zone Manager</td>
        <td>Zone-specific metrics: zone lease counts by state, field officer performance, occupancy rate, upcoming escalations</td>
      </tr>
      <tr>
        <td><strong>Field Officer Dashboard</strong></td>
        <td>Field Officer</td>
        <td>Assigned leases, pending handovers, documents requiring upload, action items for today</td>
      </tr>
      <tr>
        <td><strong>Lease Portfolio</strong></td>
        <td>Admin, Property Manager</td>
        <td>Portfolio analytics: revenue charts, occupancy trends, escalation schedule, renewal pipeline</td>
      </tr>
      <tr>
        <td><strong>Document Audit Dashboard</strong></td>
        <td>Auditor, Internal Auditor</td>
        <td>Document integrity status, review queue metrics, rejection rates, audit event timeline</td>
      </tr>
      <tr>
        <td><strong>Permission Dashboard</strong></td>
        <td>Super Admin</td>
        <td>RBAC overview: who has what role, recent permission changes, acting-for relationships</td>
      </tr>
      <tr>
        <td><strong>Print Log Report</strong></td>
        <td>Admin</td>
        <td>All print jobs: who printed, when, which workstation, how many copies</td>
      </tr>
      <tr>
        <td><strong>System Pulse</strong></td>
        <td>Super Admin</td>
        <td>Laravel Pulse: database health, cache status, queue worker status, storage space</td>
      </tr>
    </tbody>
  </table>

  <h3>The 15 Live Widgets</h3>
  <div class="three-col">
    <div class="card">
      <div class="card-title">ğŸ“Š Lease Stats</div>
      <div class="card-body">Real-time lease counts broken down by workflow state. Colour-coded for quick status read.</div>
    </div>
    <div class="card">
      <div class="card-title">ğŸ¥§ Status Chart</div>
      <div class="card-body">Visual pie/bar chart of lease distribution across active, pending, expired, and disputed.</div>
    </div>
    <div class="card">
      <div class="card-title">â±ï¸ Recent Leases</div>
      <div class="card-body">Latest 5 leases created across the system with quick-link to each.</div>
    </div>
    <div class="card">
      <div class="card-title">âš ï¸ Upcoming Expirations</div>
      <div class="card-body">Leases expiring within 30 days â€” renewal action required.</div>
    </div>
    <div class="card">
      <div class="card-title">ğŸ“ˆ Rent Escalations</div>
      <div class="card-body">Upcoming rent increases due in next 30 days with amounts and effective dates.</div>
    </div>
    <div class="card">
      <div class="card-title">ğŸ‘ Pending Approvals</div>
      <div class="card-body">Landlord approvals awaiting action â€” count and urgency indicator.</div>
    </div>
    <div class="card">
      <div class="card-title">ğŸ’° Revenue Chart</div>
      <div class="card-body">Monthly rent revenue trend chart â€” 12-month rolling view.</div>
    </div>
    <div class="card">
      <div class="card-title">ğŸ† Officer Performance</div>
      <div class="card-body">Field officer KPIs: leases handled, response times, open items.</div>
    </div>
    <div class="card">
      <div class="card-title">ğŸ—ºï¸ Zone Performance</div>
      <div class="card-body">Zone-by-zone occupancy, revenue, and pending items comparison.</div>
    </div>
    <div class="card">
      <div class="card-title">ğŸ“± SMS Balance</div>
      <div class="card-body">Africa's Talking live SMS credit balance. Alert when running low.</div>
    </div>
    <div class="card">
      <div class="card-title">ğŸ“ Document Stats</div>
      <div class="card-body">Documents in review queue, rejection rate, average review time.</div>
    </div>
    <div class="card">
      <div class="card-title">ğŸ” Review Queue</div>
      <div class="card-body">Real-time count of documents awaiting review by status and reviewer.</div>
    </div>
    <div class="card">
      <div class="card-title">ğŸ—„ï¸ CHIPS Database</div>
      <div class="card-body">Sync status between lease system and CHIPS property database.</div>
    </div>
    <div class="card">
      <div class="card-title">ğŸ’š System Pulse</div>
      <div class="card-body">Laravel Pulse health check â€” DB, cache, storage, queues all green.</div>
    </div>
    <div class="card">
      <div class="card-title">ğŸ“… Date Range Filter</div>
      <div class="card-body">Shared date range filter widget that updates all relevant widgets simultaneously.</div>
    </div>
  </div>

  <div class="doc-footer">
    <div class="brand">Chabrin Agencies Ltd â€” Lease Management System</div>
    <div>Chapter 9 &nbsp;Â·&nbsp; Dashboards &amp; Widgets</div>
  </div>
</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     CHAPTER 10 â€” API
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="page page-break">
  <div class="chapter-header">
    <div class="chapter-number">Chapter 10</div>
    <div class="chapter-title">REST API &amp; External Integrations</div>
    <div class="chapter-sub">40+ API endpoints for mobile apps, external integrations, landlord portals, and field officer tools.</div>
  </div>

  <div class="two-col">
    <div>
      <h3>API Groups</h3>
      <ul class="feature-list">
        <li>
          <span class="fi">ğŸ”“</span>
          <div>
            <div class="fi-title">Public Verification API</div>
            <div class="fi-desc"><code>GET /api/verify/lease</code> â€” Any QR code scanner or external system can verify a lease by serial number or QR data. Returns lease status, tenant name, property, and signature confirmation.</div>
          </div>
        </li>
        <li>
          <span class="fi">ğŸ‘¤</span>
          <div>
            <div class="fi-title">Landlord Portal API</div>
            <div class="fi-desc">RESTful endpoints for the landlord approval portal. List pending approvals, approve, reject. Authenticated via token in SMS link â€” no password required for landlords.</div>
          </div>
        </li>
        <li>
          <span class="fi">ğŸ“</span>
          <div>
            <div class="fi-title">Field Officer Mobile API</div>
            <div class="fi-desc">Dashboard stats, pending approvals by zone, overdue approvals, individual lease status. Designed for use in a mobile app or PWA by field officers in the field.</div>
          </div>
        </li>
        <li>
          <span class="fi">ğŸ”‘</span>
          <div>
            <div class="fi-title">Sanctum-Authenticated API v1</div>
            <div class="fi-desc">Full REST CRUD for leases, tenants, properties, landlords. Workflow transitions via <code>POST /leases/{id}/transition</code>. Token-based authentication for third-party integrations.</div>
          </div>
        </li>
      </ul>
    </div>
    <div>
      <h3>Rate Limiting</h3>
      <table>
        <thead><tr><th>Endpoint Group</th><th>Limit</th></tr></thead>
        <tbody>
          <tr><td>OTP Request</td><td>5 / minute</td></tr>
          <tr><td>OTP Verification</td><td>10 / minute</td></tr>
          <tr><td>Signature Submit</td><td>3 / minute</td></tr>
          <tr><td>Lease Reject</td><td>5 / minute</td></tr>
          <tr><td>PDF Download</td><td>30 / minute</td></tr>
          <tr><td>Document Download</td><td>60 / minute</td></tr>
          <tr><td>Lease Verify (public)</td><td>10 / minute</td></tr>
          <tr><td>API v1 (general)</td><td>60 / minute</td></tr>
        </tbody>
      </table>
      <div class="info-box" style="margin-top:16px">
        <strong>QR Code Verification:</strong> Every generated lease PDF contains a QR code. Scanning it opens the public verification page showing lease validity, tenant name, and whether it has been digitally signed. This allows landlords, lawyers, or third parties to instantly verify a lease's authenticity.
      </div>
    </div>
  </div>

  <h3>Tenant Signing Portal</h3>
  <p>A fully public-facing, mobile-optimised web portal accessible without any login. Tenants arrive via a secure SMS link and can:</p>
  <div class="three-col">
    <div class="card">
      <div class="card-title">ğŸ“– View Lease</div>
      <div class="card-body">Read the full rendered lease document before committing to sign. Scrollable, full-screen.</div>
    </div>
    <div class="card">
      <div class="card-title">âœ… Sign via OTP</div>
      <div class="card-body">Request OTP â†’ verify â†’ draw or upload signature. Entire flow on one page.</div>
    </div>
    <div class="card">
      <div class="card-title">âŒ Reject &amp; Dispute</div>
      <div class="card-body">Select one of 6 dispute reasons and submit. Admin is immediately notified.</div>
    </div>
  </div>

  <div class="doc-footer">
    <div class="brand">Chabrin Agencies Ltd â€” Lease Management System</div>
    <div>Chapter 10 &nbsp;Â·&nbsp; API &amp; Integrations</div>
  </div>
</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     CHAPTER 11 â€” LIVE SHOWCASE SCRIPT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="page page-break">
  <div class="chapter-header">
    <div class="chapter-number">Chapter 11</div>
    <div class="chapter-title">Live Showcase Script</div>
    <div class="chapter-sub">Follow this script step-by-step during your client presentation. Each step is timed and designed to build momentum.</div>
  </div>

  <div class="highlight-box">
    <strong>Before You Start:</strong> Have the browser open at <code>https://leases-docs.chabrinagencies.com/admin</code> logged in as Super Admin. Have a real or test tenant's phone number ready. Keep this document open on a second screen or printed.
  </div>

  <div class="showcase-steps">

    <div class="showcase-step">
      <div class="step-num">1</div>
      <div class="step-content">
        <div class="step-title">Open the Dashboard â€” First Impression (~2 min)</div>
        <div class="step-desc">Navigate to the <strong>Company Dashboard</strong>. Let the client see the gold-and-cream executive theme, the Chabrin logo, the live widgets. Point out:</div>
        <ul class="step-bullets">
          <li>The live stats cards (total leases, active leases, pending approvals)</li>
          <li>The revenue chart â€” real monthly data</li>
          <li>The SMS balance widget â€” live from Africa's Talking</li>
          <li>"This is your entire portfolio at a glance, in real time"</li>
        </ul>
      </div>
    </div>

    <div class="showcase-step">
      <div class="step-num">2</div>
      <div class="step-content">
        <div class="step-title">Show Zone &amp; Role Access (~2 min)</div>
        <div class="step-desc">Navigate to <strong>Security â†’ Rights Allocation</strong>. Show the 9 roles. Then log in (or switch to) a Field Officer account. Show that they only see their zone's leases â€” not everyone else's.</div>
        <ul class="step-bullets">
          <li>"Every person in your company sees only what is relevant to them"</li>
          <li>"A field officer in Westlands cannot accidentally see a CBD lease"</li>
          <li>"Auditors can see everything, but cannot change anything"</li>
        </ul>
      </div>
    </div>

    <div class="showcase-step">
      <div class="step-num">3</div>
      <div class="step-content">
        <div class="step-title">Create a Lease â€” Live (~4 min)</div>
        <div class="step-desc">Navigate to <strong>Leases â†’ New Lease</strong>. Fill in a real or demo lease. Show:</div>
        <ul class="step-bullets">
          <li>Auto-generated reference number (LEA-2026-XXXXX)</li>
          <li>Tenant preferred language selector (English / Kiswahili)</li>
          <li>Template selection dropdown (residential, commercial)</li>
          <li>Guarantor section â€” add a guarantor</li>
          <li>Save. Show it appears in the list at DRAFT state.</li>
        </ul>
      </div>
    </div>

    <div class="showcase-step">
      <div class="step-num">4</div>
      <div class="step-content">
        <div class="step-title">Send for Landlord Approval â€” SMS Fires (~2 min)</div>
        <div class="step-desc">Transition the lease to <strong>"Pending Landlord Approval"</strong>. Show the SMS being sent (check the SmsBalanceWidget drop). If possible, have the client's own phone as the test landlord â€” show the SMS arriving live.</div>
        <ul class="step-bullets">
          <li>"The landlord gets an SMS and email with a link to approve"</li>
          <li>"They do not need a login â€” they click approve directly from the SMS"</li>
        </ul>
      </div>
    </div>

    <div class="showcase-step">
      <div class="step-num">5</div>
      <div class="step-content">
        <div class="step-title">Approve the Lease â€” PDF Generated (~2 min)</div>
        <div class="step-desc">Open the landlord approval link. Approve the lease. Back in admin, show the lease is now <strong>APPROVED</strong>. Click "Download PDF" â€” show the generated lease PDF with QR code in the top-right corner.</div>
        <ul class="step-bullets">
          <li>"This PDF is generated from your template â€” fully customisable"</li>
          <li>"The QR code can be scanned by anyone to verify authenticity"</li>
        </ul>
      </div>
    </div>

    <div class="showcase-step">
      <div class="step-num">6</div>
      <div class="step-content">
        <div class="step-title">Send Digital Signing Link â€” The Wow Moment (~3 min)</div>
        <div class="step-desc">Click <strong>"Send Digital"</strong>. Show the tenant receiving the SMS. Open the link on a phone (or browser). Walk through:</div>
        <ul class="step-bullets">
          <li>The tenant portal â€” clean, mobile-friendly, no app needed</li>
          <li>Request OTP â†’ SMS arrives in seconds with the 6-digit code</li>
          <li>Enter code â†’ verified â†’ lease appears for review</li>
          <li>Draw signature on the canvas with your finger/mouse</li>
          <li>Submit â€” lease transitions to "Tenant Signed"</li>
          <li><strong>"The signature is stored with GPS coordinates, IP address, and a cryptographic hash â€” legally robust."</strong></li>
        </ul>
      </div>
    </div>

    <div class="showcase-step">
      <div class="step-num">7</div>
      <div class="step-content">
        <div class="step-title">Document Upload &amp; Review Queue (~2 min)</div>
        <div class="step-desc">Navigate to <strong>Documents â†’ Upload Center</strong>. Upload a test PDF. Show it appearing in the <strong>Review Queue</strong>. Approve it. Show it linking to the lease.</div>
        <ul class="step-bullets">
          <li>"Every document is quality-rated and integrity-verified with SHA256"</li>
          <li>"You can verify any document hasn't been tampered with at any time"</li>
        </ul>
      </div>
    </div>

    <div class="showcase-step">
      <div class="step-num">8</div>
      <div class="step-content">
        <div class="step-title">QR Code Verification â€” Public Tool (~1 min)</div>
        <div class="step-desc">Open <code>/verify/lease</code> on a new tab. Scan or enter a lease serial number. Show the verification page that any third party (lawyer, bank, court) can use to verify the lease.</div>
        <ul class="step-bullets">
          <li>"A bank giving this tenant a loan can verify the lease is real and active"</li>
          <li>"A lawyer can verify the document has not been altered"</li>
        </ul>
      </div>
    </div>

    <div class="showcase-step">
      <div class="step-num">9</div>
      <div class="step-content">
        <div class="step-title">Rent Escalation &amp; Renewal (~2 min)</div>
        <div class="step-desc">Show an active lease with a rent escalation scheduled. Show the <strong>Upcoming Rent Escalations</strong> widget. Show how the system automatically sends renewal offers 60 days before expiry.</div>
        <ul class="step-bullets">
          <li>"You never miss a rent increase â€” the system manages it automatically"</li>
          <li>"Renewal offers are sent to tenants automatically with the new amount"</li>
        </ul>
      </div>
    </div>

    <div class="showcase-step">
      <div class="step-num">10</div>
      <div class="step-content">
        <div class="step-title">Audit Trail &amp; Compliance (~1 min)</div>
        <div class="step-desc">Open the lease audit log. Show every action recorded â€” who did what, when, from which IP. Then show the System Pulse page.</div>
        <ul class="step-bullets">
          <li>"Every single action in this system is logged â€” perfect for compliance"</li>
          <li>"Your auditors have a complete, tamper-proof record of every change"</li>
        </ul>
      </div>
    </div>

  </div>

  <div class="doc-footer">
    <div class="brand">Chabrin Agencies Ltd â€” Lease Management System</div>
    <div>Chapter 11 &nbsp;Â·&nbsp; Showcase Script</div>
  </div>
</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     CHAPTER 12 â€” WOW FACTORS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="page page-break">
  <div class="chapter-header">
    <div class="chapter-number">Chapter 12</div>
    <div class="chapter-title">Key Wow-Factor Features</div>
    <div class="chapter-sub">These are the moments in your presentation that will genuinely impress the client and set this system apart from any generic software.</div>
  </div>

  <ul class="feature-list">
    <li>
      <span class="fi">ğŸ“±</span>
      <div>
        <div class="fi-title">Tenant Signs on Their Phone â€” No App Required</div>
        <div class="fi-desc">The tenant receives an SMS, taps a link, enters an OTP, and signs â€” all in their mobile browser. No app download, no account creation, no password. The entire signing experience is frictionless. This will genuinely surprise the client.</div>
      </div>
    </li>
    <li>
      <span class="fi">ğŸ‡°ğŸ‡ª</span>
      <div>
        <div class="fi-title">Kiswahili SMS â€” Local Market Awareness</div>
        <div class="fi-desc">Every SMS a tenant receives is in their preferred language â€” English or Kiswahili. For a Kenyan property company, this shows deep understanding of the market. The tenant who only reads Swahili gets the same quality experience as the English speaker.</div>
      </div>
    </li>
    <li>
      <span class="fi">ğŸ”</span>
      <div>
        <div class="fi-title">Bank-Grade OTP Security</div>
        <div class="fi-desc">OTP codes are bcrypt-hashed â€” the same security used by banks. Even if someone hacked the database, they could not recover a single OTP code. Device fingerprinting detects if someone else is trying to use a code sent to a different phone.</div>
      </div>
    </li>
    <li>
      <span class="fi">ğŸ“</span>
      <div>
        <div class="fi-title">GPS-Located Digital Signatures</div>
        <div class="fi-desc">When a tenant signs digitally, the system optionally records their GPS coordinates. You can prove not only that they signed, but where they were when they signed. This is legally significant in case of future disputes.</div>
      </div>
    </li>
    <li>
      <span class="fi">ğŸ”</span>
      <div>
        <div class="fi-title">Public QR Verification â€” Anyone Can Verify</div>
        <div class="fi-desc">Every lease PDF has a QR code. Banks, courts, lawyers, or any third party can scan it and instantly see if the lease is genuine, active, and untampered. This is something even large property companies don't always have.</div>
      </div>
    </li>
    <li>
      <span class="fi">âš–ï¸</span>
      <div>
        <div class="fi-title">23-State Workflow â€” Nothing Falls Through the Cracks</div>
        <div class="fi-desc">Every lease moves through 23 defined states. The system enforces valid transitions â€” a lease cannot jump from Draft to Active by mistake. Every state change is logged, timestamped, and attributed to a specific user.</div>
      </div>
    </li>
    <li>
      <span class="fi">ğŸ—ºï¸</span>
      <div>
        <div class="fi-title">Zone-Based Operations at Scale</div>
        <div class="fi-desc">The zone system means the company can operate across Nairobi, Mombasa, Nakuru, or any number of regions simultaneously. Each zone is self-contained with its own manager and officers, but all data rolls up to central reporting.</div>
      </div>
    </li>
    <li>
      <span class="fi">ğŸ“œ</span>
      <div>
        <div class="fi-title">Immutable Version Control on Templates</div>
        <div class="fi-desc">Template versioning means that changing a lease template today does not affect any past lease. If a lease signed 3 years ago is ever questioned in court, the system can produce the exact template used at the time of signing.</div>
      </div>
    </li>
    <li>
      <span class="fi">ğŸ“Š</span>
      <div>
        <div class="fi-title">Everything Automated â€” No Manual Chasing</div>
        <div class="fi-desc">Renewal reminders, rent escalation notices, overdue payment reminders, signing reminders â€” all automatic. The system works 24/7 without any human intervention. Staff focus on decisions, not chasing paperwork.</div>
      </div>
    </li>
    <li>
      <span class="fi">ğŸ—ï¸</span>
      <div>
        <div class="fi-title">Built for Kenya, on Kenyan Infrastructure</div>
        <div class="fi-desc">Hosted on DigitalOcean (Nairobi-region server), SMS via Africa's Talking (Nairobi-based), CHIPS database alignment for Kenya's property registry. This is not a generic system adapted for Kenya â€” it was built for Kenya from day one.</div>
      </div>
    </li>
  </ul>

  <div class="highlight-box" style="margin-top: 32px;">
    <strong style="font-size:12pt; font-family:'Cormorant Garamond',serif;">Closing Statement for the Presentation:</strong><br><br>
    <em>"This system replaces physical lease folders, WhatsApp approval chains, manual SMS sending, and Excel tracking sheets â€” with a single, secure, automated platform. Every lease, every signature, every SMS, every document is tracked, verified, and auditable. Your staff spend less time on administration and more time on what matters â€” growing your property portfolio."</em>
  </div>

  <div class="doc-footer">
    <div class="brand">Chabrin Agencies Ltd â€” Lease Management System</div>
    <div>Chapter 12 &nbsp;Â·&nbsp; Wow Factors &nbsp;Â·&nbsp; Confidential 2026</div>
  </div>
</div>

<script>
  // Auto-trigger print dialog if ?print=1 in URL
  if (window.location.search.includes('print=1')) {
    window.onload = function() { window.print(); }
  }
</script>

</body>
</html>
